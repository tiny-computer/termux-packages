diff -u -r ../cache/kitty-0.42.2/kitty/launcher/main.c ./kitty/launcher/main.c
--- ../cache/kitty-0.42.2/kitty/launcher/main.c	2025-07-16 01:04:24.000000000 +0000
+++ ./kitty/launcher/main.c	2025-08-28 19:55:23.050960888 +0000
@@ -37,9 +37,11 @@
 #ifndef __FreeBSD__
 static bool
 safe_realpath(const char* src, char *buf, size_t buf_sz) {
-    RAII_ALLOC(char, ans, realpath(src, NULL));
-    if (ans == NULL) return false;
-    safe_snprintf(buf, buf_sz, "%s", ans);
+    char exe[PATH_MAX+1] = {0};
+    ssize_t exe_len = readlink("/proc/self/exe", exe, PATH_MAX);
+    if (exe_len == -1) { fprintf(stderr, "Failed to read /proc/self/exe"); return 1; }
+    exe[exe_len] = 0;
+    safe_snprintf(buf, buf_sz, "%s", exe);
     return true;
 }
 #endif
